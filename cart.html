<!-- cart.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Car Shopping Cart</title>
  <link rel="stylesheet" href="styles/cart.css">
<!-- use external CSS -->
</head>
<body>
  <div class="cart-layout">
    <!-- Cart Items -->
    <div class="cart-items">
      <h2>Your Shopping Cart</h2>

      <!-- Item 1 -->
      <div class="cart-item" data-price="250000">
        <img src="https://images.pexels.com/photos/1007410/pexels-photo-1007410.jpeg" alt="Sedan Model X">
        <div class="cart-item-title">Sedan Model X</div>
        <div class="cart-item-quantity">
          <button onclick="changeQuantity(this, -1)">-</button>
          <span class="quantity">1</span>
          <button onclick="changeQuantity(this, 1)">+</button>
        </div>
        <div class="cart-item-price">Ksh250,000</div>
        <button class="remove-btn" onclick="removeItem(this)">Remove</button>
      </div>

      <!-- Item 2 -->
      <div class="cart-item" data-price="350000">
        <img src="https://images.pexels.com/photos/1519192/pexels-photo-1519192.jpeg" alt="SUV Model Y">
        <div class="cart-item-title">SUV Model Y</div>
        <div class="cart-item-quantity">
          <button onclick="changeQuantity(this, -1)">-</button>
          <span class="quantity">1</span>
          <button onclick="changeQuantity(this, 1)">+</button>
        </div>
        <div class="cart-item-price">Ksh350,000</div>
        <button class="remove-btn" onclick="removeItem(this)">Remove</button>
      </div>
    </div>

    <!-- Cart Summary -->
    <div class="cart-summary">
      <div class="cart-totals">
        <div class="cart-totals-row">
          <span>Subtotal:</span>
          <span id="subtotal">Ksh600,000</span>
        </div>
        <div class="cart-totals-row">
          <span>Tax (10%):</span>
          <span id="tax">Ksh60,000</span>
        </div>
        <div class="cart-total">
          Total: <span id="total">Ksh660,000</span>
        </div>
      </div>

      <div class="cart-actions">
        <button class="cart-button cart-button--checkout">Proceed to Checkout</button>
        <button class="cart-button cart-button--continue">Continue Shopping</button>
      </div>
    </div>
  </div>

  <!-- Empty Cart -->
  <div class="empty-cart" style="display:none;">
    <span class="empty-icon">ðŸ›’</span>
    <p>Your cart is empty</p>
  </div>

  <script>
    function changeQuantity(button, delta) {
      const item = button.closest('.cart-item');
      const quantitySpan = item.querySelector('.quantity');
      let quantity = parseInt(quantitySpan.textContent);
      quantity += delta;
      if (quantity < 1) quantity = 1;
      quantitySpan.textContent = quantity;
      updateTotals();
    }

    function removeItem(button) {
      button.closest('.cart-item').remove();
      updateTotals();
    }

    function updateTotals() {
      const items = document.querySelectorAll('.cart-item');
      let subtotal = 0;
      items.forEach(item => {
        const price = parseFloat(item.getAttribute('data-price'));
        const quantity = parseInt(item.querySelector('.quantity').textContent);
        subtotal += price * quantity;
        item.querySelector('.cart-item-price').textContent = 'Ksh' + (price * quantity).toLocaleString();
      });
      const tax = subtotal * 0.1;
      const total = subtotal + tax;
      document.getElementById('subtotal').textContent = 'Ksh' + subtotal.toLocaleString();
      document.getElementById('tax').textContent = 'Ksh' + tax.toLocaleString();
      document.getElementById('total').textContent = 'Ksh' + total.toLocaleString();

      // toggle empty cart
      document.querySelector('.empty-cart').style.display = items.length ? 'none' : 'flex';
    }
  </script>
</body>
</html>